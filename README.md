# Algo-Tests

## Что тут находится? 
В файлах `*.txt` находятся файлы с тестами, причем название файлов строго фиксированное `<Номер задания>`.`<Буква задачи>`_`<Сущность файла>`.txt
`<Сущность файла>` может быть двух типов:
 - это либо входные данные задачи, тогда `<Сущность файла>`== input
 - либо корректный вывод программы (то что мы ожидаем при правильном решении), тогда `<Сущность файла>`== correct

В файле `T.cpp` находится минимальный пример того, как должен быть построен ввод и вывод данных, чтобы можно было удобно тестироваться и при этом не влиять на производительность программы в момент тестирования в автоматической системе.

`Test.cpp` - это код тестирующей программы, которая запускается из вашей задачи (``T.cpp``)
`Test.h` - это заголовочный файл программы, который нужен для того, чтобы аккуратно с помощью директив препроцессора добавить тестирующий код в вашу програму.


## Как это компилится ? 
Есть два базовых варианта, как можно скомпилить свою программу
#### Для тестирования 
```g++ T.cpp Test.cpp    -DDEBUG    -o   ./bin```

Этот способ позволит вам скомпилировать бинарный файл, который при запуске прожует все тесты и закончится. 

#### Для посылки в систему 
```g++ T.cpp  -o   ./bin```

В строке компиляции отсутствует флаг `DEBUG`, который, собственно и управляет тем, запускаем ли мы тесты или мы просто хотим собрать свою программу для production. 


## Как писать тесты?
Тесты во входном файле `1.A_input.txt`  отделены друг от друга переводом строки. Полная строка входных данных подается на вход алгоритма. Программа читает ровно столько, сколько ей нужно и пишет строку вывода в файл, который задается внутри программы (смотри `T.cpp` вызов `Test()`), пусть в данном случае это будет `1.A_output.txt`.
Пример трех тестов в одном файле:
```
[ipaulo@localhost Tests]# cat 1.A_input.txt
10 1 4 2 3 5 8 6 7 9 10
51 2 3 4 5
1 100
```
В другом файле `1.A_correct.txt` находится корректный вывод на текущих входных данных.
```
1 4 2 8 6 7
1 2
100
```
Дальше запускается построчное сравнение `1.A_output.txt`  и `1.A_correct.txt` и в случае неуспеха сообщается номер строки, в которой найдено расхождение и также небольшой diff,  ожидания-vs-реальность. Пример вывода:
```
1-the strings are not equal
Expected:   1 4 2 8 6 7
Got     :   1 4 2 3 5 8 6 7 9 10
2-the strings are not equal
Expected:   1 2
Got     :   1 2 3 4 5
```
В случае успеха выводится
```ALL TESTS HAVE BEEN COMPLETED WITHOUT MISSES```.


##Bottom line 
Пожалуйста, не стесняйтесь коммитить сюда, править код так, чтобы это было для всех удобно и активно обсуждать то, как все это устроено. 
Конечно, никто не застрахован от багов, поэтому просьба фиксить и сообщать об этом всем. 
